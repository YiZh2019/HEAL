---
title: "0 mg"
author: "Yi"
date: "3/30/2020"
output:
  pdf_document: default
  html_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(include = FALSE)
```

```{r}
library(haven)
library(tidyverse)
```

```{r}
data <- read_sav("/Users/zhan039/Desktop/USC_HEAL/P4/03242020/0mg_with scoring added_3.23.2020.sav")
```
### PANAS Pre E
```{r}
# PANAS Pre E, Post E, Post R

# check whether all responses to PANAS Pre E are the same
index <- data %>% select(., starts_with("preec_panas")) %>% apply(., 1, unique) %>% lapply(., length) == 1
data[index, c("redcap_id", colnames(data)[startsWith(colnames(data), "preec_panas")])]

# check whether difference of PA and NA <= 5
data[abs(data$PANAS_PreE_PA - data$PANAS_PreE_NA) <= 5, c("redcap_id", "PANAS_PreE_PA", "PANAS_PreE_NA", colnames(data)[startsWith(colnames(data), "preec_panas")])]
PANAS.PreE <- data[abs(data$PANAS_PreE_PA - data$PANAS_PreE_NA) <= 5, c("redcap_id", "PANAS_PreE_PA", "PANAS_PreE_NA", colnames(data)[startsWith(colnames(data), "preec_panas")])]
```

There are `r nrow(data[index, c("redcap_id", colnames(data)[startsWith(colnames(data), "preec_panas")])])` participant(s) responded the same value to all PANAS PreE questions.
<br>There are `r nrow(data[abs(data$PANAS_PreE_PA - data$PANAS_PreE_NA) <= 5, c("redcap_id", "PANAS_PreE_PA", "PANAS_PreE_NA", colnames(data)[startsWith(colnames(data), "preec_panas")])])` participant(s) have similar sum scores of PA and NA (differences <= 5). 

```{r, echo=FALSE, include=TRUE}
knitr::kable(PANAS.PreE[, c("redcap_id", "PANAS_PreE_PA", "PANAS_PreE_NA")], caption = "Inconsistent PANAS_PreE Variables", align = "c")
```











